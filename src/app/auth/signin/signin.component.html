<div class="signin-container">
  <!-- Background Icons -->
  <div class="background-icons">
    <i class="bi bi-people-fill icon-pattern icon-1"></i>
    <i class="bi bi-building icon-pattern icon-2"></i>
    <i class="bi bi-person-badge icon-pattern icon-3"></i>
    <i class="bi bi-calendar-check icon-pattern icon-4"></i>
    <i class="bi bi-graph-up icon-pattern icon-5"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-6"></i>
    <i class="bi bi-shield-check icon-pattern icon-7"></i>
    <i class="bi bi-gear icon-pattern icon-8"></i>
    <i class="bi bi-clock-history icon-pattern icon-9"></i>
    <i class="bi bi-person-workspace icon-pattern icon-10"></i>
    <i class="bi bi-people-fill icon-pattern icon-11"></i>
    <i class="bi bi-building icon-pattern icon-12"></i>
    <i class="bi bi-person-badge icon-pattern icon-13"></i>
    <i class="bi bi-calendar-check icon-pattern icon-14"></i>
    <i class="bi bi-graph-up icon-pattern icon-15"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-16"></i>
    <i class="bi bi-shield-check icon-pattern icon-17"></i>
    <i class="bi bi-gear icon-pattern icon-18"></i>
    <i class="bi bi-clock-history icon-pattern icon-19"></i>
    <i class="bi bi-person-workspace icon-pattern icon-20"></i>
    <i class="bi bi-people-fill icon-pattern icon-21"></i>
    <i class="bi bi-building icon-pattern icon-22"></i>
    <i class="bi bi-person-badge icon-pattern icon-23"></i>
    <i class="bi bi-calendar-check icon-pattern icon-24"></i>
    <i class="bi bi-graph-up icon-pattern icon-25"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-26"></i>
    <i class="bi bi-shield-check icon-pattern icon-27"></i>
    <i class="bi bi-gear icon-pattern icon-28"></i>
    <i class="bi bi-clock-history icon-pattern icon-29"></i>
    <i class="bi bi-person-workspace icon-pattern icon-30"></i>
    <i class="bi bi-people-fill icon-pattern icon-31"></i>
    <i class="bi bi-building icon-pattern icon-32"></i>
    <i class="bi bi-person-badge icon-pattern icon-33"></i>
    <i class="bi bi-calendar-check icon-pattern icon-34"></i>
    <i class="bi bi-graph-up icon-pattern icon-35"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-36"></i>
    <i class="bi bi-shield-check icon-pattern icon-37"></i>
    <i class="bi bi-gear icon-pattern icon-38"></i>
    <i class="bi bi-clock-history icon-pattern icon-39"></i>
    <i class="bi bi-person-workspace icon-pattern icon-40"></i>
    <i class="bi bi-people-fill icon-pattern icon-41"></i>
    <i class="bi bi-building icon-pattern icon-42"></i>
    <i class="bi bi-person-badge icon-pattern icon-43"></i>
    <i class="bi bi-calendar-check icon-pattern icon-44"></i>
    <i class="bi bi-graph-up icon-pattern icon-45"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-46"></i>
    <i class="bi bi-shield-check icon-pattern icon-47"></i>
    <i class="bi bi-gear icon-pattern icon-48"></i>
    <i class="bi bi-clock-history icon-pattern icon-49"></i>
    <i class="bi bi-person-workspace icon-pattern icon-50"></i>
    <i class="bi bi-people-fill icon-pattern icon-51"></i>
    <i class="bi bi-building icon-pattern icon-52"></i>
    <i class="bi bi-person-badge icon-pattern icon-53"></i>
    <i class="bi bi-calendar-check icon-pattern icon-54"></i>
    <i class="bi bi-graph-up icon-pattern icon-55"></i>
    <i class="bi bi-file-earmark-text icon-pattern icon-56"></i>
    <i class="bi bi-shield-check icon-pattern icon-57"></i>
    <i class="bi bi-gear icon-pattern icon-58"></i>
    <i class="bi bi-clock-history icon-pattern icon-59"></i>
    <i class="bi bi-person-workspace icon-pattern icon-60"></i>
  </div>

  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5">
        <div class="card shadow-sm">
          <div class="card-body pb-4">
            <!-- Brand -->
            <div class="text-center mt-4 mb-1">
              <h1 class="fw-bold">EMS</h1>
            </div>
            <!-- Welcome Message -->
            <div class="text-center mb-4">
              <h5 class="mb-1">Welcome Back</h5>
              <p class="text-muted small mb-0">
                Sign in to access your account
              </p>
            </div>

            <form (ngSubmit)="onSubmit()" [formGroup]="signinForm" novalidate>
              <!-- Email -->
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  formControlName="email"
                  placeholder="Enter email"
                  [class.is-invalid]="email.invalid && email.dirty"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="email.errors && email.dirty"
                >
                  <span *ngIf="email.errors['required']"
                    >Email is required</span
                  >
                  <span *ngIf="email.errors['email']">Email must be valid</span>
                </div>
              </div>

              <!-- Password -->
              <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  formControlName="password"
                  placeholder="Enter password"
                  [class.is-invalid]="password.invalid && password.dirty"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="password.errors && password.dirty"
                >
                  <span *ngIf="password.errors['required']"
                    >Password is required</span
                  >
                </div>
              </div>

              <!-- Error Message -->
              <div
                *ngIf="errorMessage"
                class="alert alert-light text-danger alert-dismissible fade show border-danger border-opacity-25 small mb-3"
                role="alert"
              >
                <i class="bi bi-exclamation-triangle-fill me-1"></i>
                {{ errorMessage }}
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>

              <!-- Submit Button -->
              <button
                type="submit"
                class="btn btn-success w-100"
                [disabled]="signinForm.invalid || isLoading"
              >
                <span *ngIf="!isLoading">Sign In</span>
                <span *ngIf="isLoading">
                  <span
                    class="spinner-border spinner-border-sm me-2"
                    role="status"
                  ></span>
                  Signing in...
                </span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" *ngIf="isLoading">
  <div class="d-flex align-items-center">
    <div class="spinner-border text-success loading-spinner" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <span class="loading-text">Signing in...</span>
  </div>
</div>
